<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>K·ª∑ ni·ªám 2 th√°ng</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --bg-color: #fdf2f8;
            --card-bg: #ffffff;
            --text-color: #5a4a42;
            --accent-pink: #f8c8d8;
        }

        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: radial-gradient(#fff0f5 10%, transparent 10%), radial-gradient(#fff0f5 10%, transparent 10%);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
        }

        .stack-container {
            position: relative;
            width: 88%;
            max-width: 400px;
            height: 75vh;
            perspective: 1000px;
        }

        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background-color: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.5s;
            cursor: pointer;
            border: 1px solid #fff;
        }

        /* X·∫øp l·ªõp c√°c t·∫•m ·∫£nh */
        .card:nth-child(1) { z-index: 4; transform: rotate(-3deg) translateY(0); }
        .card:nth-child(2) { z-index: 3; transform: rotate(2deg) translateY(0); }
        .card:nth-child(3) { z-index: 2; transform: rotate(-2deg) translateY(0); }
        .card:nth-child(4) { z-index: 1; transform: rotate(0deg) translateY(0); }

        .photo-frame {
            flex: 3;
            width: 100%;
            border-radius: 12px;
            overflow: hidden;
            border: 4px solid #fff;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .caption {
            flex: 1;
            margin-top: 15px;
            text-align: center;
            font-size: 1.05rem;
            color: var(--text-color);
            line-height: 1.4;
            overflow-y: auto;
            padding: 5px;
            font-style: italic;
            font-weight: 500;
        }

        /* CARD CU·ªêI C√ôNG */
        .final-card-content {
            text-align: left;
            color: var(--text-color);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* ƒê·∫©y n·ªôi dung l√™n tr√™n ƒë·ªÉ nh∆∞·ªùng ch·ªó cho hoa sen */
            position: relative;
        }

        .final-card-content h2 {
            text-align: center;
            color: #d48c9f;
            margin: 10px 0 15px 0;
            font-size: 1.5rem;
        }

        .message-body {
            font-size: 0.95rem;
            line-height: 1.5;
            white-space: pre-wrap;
            overflow-y: auto;
            max-height: 60%; /* Gi·ªõi h·∫°n chi·ªÅu cao ƒë·ªÉ kh√¥ng che m·∫•t hoa */
            padding-right: 5px;
            margin-bottom: 20px;
        }

        /* --- V·∫º HOA SEN B·∫∞NG SVG --- */
        .lotus-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 120px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1.5s ease-out;
            pointer-events: none;
        }

        .lotus-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Hi·ªáu ·ª©ng ph√°t s√°ng cho hoa sen */
        .lotus-svg {
            width: 120px;
            height: auto;
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.9)) 
                    drop-shadow(0 0 5px rgba(248, 200, 216, 0.6));
            animation: breathe 3s infinite ease-in-out;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .card.fly-away {
            transform: translateY(-120vh) rotate(15deg) !important;
            opacity: 0;
        }
    </style>
</head>
<body>

    <div class="stack-container" id="cardStack">
        <div class="card" onclick="nextCard(1)">
            <div class="photo-frame">
                <img src="https://i.imgur.com/9WzXQUg.jpeg" alt="Ng√†y ƒë·∫ßu">
            </div>
            <div class="caption">
                Anh c√≥ nh·ªõ hƒÉm ƒë√¢y l√† ng√†y ƒë·∫ßu ti√™n m√† m√¨nh ƒëi ch∆°i v·ªõi nhau n√® :> th·∫•y v·∫≠y th√¥i c≈©ng t∆∞·ªüng r·ªß hƒÉm ƒë∆∞·ª£c ƒë√≥ t·∫°i ƒë√≥ gi·ªù r·ªß c√≥ bao gi·ªù ƒë∆∞·ª£c ƒë√¢u -.-
            </div>
        </div>

        <div class="card" onclick="nextCard(2)">
            <div class="photo-frame">
                <img src="https://i.imgur.com/O1BPg7b.jpeg" alt="T·∫∑ng hoa">
            </div>
            <div class="caption">
                Anh c√≥ nh·ªõ ng√†y ƒë·∫ßu ti√™n m√¨nh quen nhau hongggg, n√≥i ƒë·ª´ng c√≥ c∆∞·ªùi ch·ª© ƒë√¢y l√† l·∫ßn ƒë·∫ßu ti√™n em ƒë∆∞·ª£c t·∫∑ng hoa ƒë√≥ =))
            </div>
        </div>

        <div class="card" onclick="nextCard(3)">
            <div class="photo-frame">
                <img src="https://i.imgur.com/FettR33.jpeg" alt="1 th√°ng">
            </div>
            <div class="caption">
                Em hong tin l√† t·ª´ b·∫°n qua m·∫°ng m√† m√¨nh c√≥ th·ªÉ quen nhau t·ªõi b√¢y gi·ªù ƒë√≥ =))) k·ª∑ ni·ªám 1 th√°nggggg
            </div>
        </div>

        <div class="card final-card" style="background: linear-gradient(to bottom, #fff, #fff0f5);">
            <div class="final-card-content">
                <h2>Happy 2 Months! üéâ</h2>
                <div class="message-body">H√¥m nay l√† k·ª∑ ni·ªám 2 th√°ng r·ªìi d√π c√≥ nhi·ªÅu bi·∫øn c·ªë, nhi·ªÅu chuy·ªán bu·ªìn c≈©ng nh∆∞ c√≥ nhi·ªÅu chuy·ªán vui, ai c≈©ng c√≥ quan ƒëi·ªÉm, c≈©ng c√≥ c√°ch s·ªëng, c≈©ng c√≥ t√¨nh c·∫£nh ri√™ng trong m·ªçi v·∫•n ƒë·ªÅ c·ªßa m·ªói ng∆∞·ªùi tuy nhi√™n d√π c√≥ nhi·ªÅu kh√°c bi·ªát ·∫•y m√¨nh v·∫´n ·ªü ƒë√¢y, theo em m·ªëi quan h·ªá t√¨nh c·∫£m kh√¥ng ph·∫£i l√† ho√† h·ª£p v·ªõi nhau m√† l√† c√πng ph√°t tri·ªÉn ƒëi·ªÉm chung v√† t√¥n tr·ªçng ƒëi·ªÉm kh√°c bi·ªát, h∆∞·ªõng ƒë·∫øn m·ª•c ti√™u chung v√¨ h·∫°nh ph√∫c chung, em mong r·∫±ng d√π cho mai v·ªÅ sau em mong r·∫±ng anh s·∫Ω th·∫≠t h·∫°nh ph√∫c, m·∫°nh kho·∫ª v√† lu√¥n m·ªân c∆∞·ªùi anh nh√©, em th∆∞∆°ng anh nhi·ªÅuuuuuuu v√† anh h√£y th∆∞∆°ng anh nhi·ªÅu nh√©.</div>
                
                <div class="lotus-container" id="lotusEffect">
                    <svg class="lotus-svg" viewBox="0 0 100 80" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="lotusGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#ffe6ee;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <path d="M30 60 Q10 40 30 20 Q40 40 30 60" fill="url(#lotusGradient)" stroke="#eec0c0" stroke-width="0.5"/>
                        <path d="M20 65 Q5 45 20 30 Q30 50 20 65" fill="url(#lotusGradient)" stroke="#eec0c0" stroke-width="0.5"/>
                        <path d="M70 60 Q90 40 70 20 Q60 40 70 60" fill="url(#lotusGradient)" stroke="#eec0c0" stroke-width="0.5"/>
                        <path d="M80 65 Q95 45 80 30 Q70 50 80 65" fill="url(#lotusGradient)" stroke="#eec0c0" stroke-width="0.5"/>
                        <path d="M50 70 Q30 40 50 10 Q70 40 50 70" fill="white" stroke="#eec0c0" stroke-width="0.5"/>
                        <path d="M35 70 Q50 80 65 70" fill="none" stroke="#a0c0a0" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentCardIndex = 1;
        const totalCards = 4;

        function nextCard(cardIndex) {
            if (cardIndex !== currentCardIndex) return;
            const cards = document.querySelectorAll('.card');
            const currentCard = cards[currentCardIndex - 1];
            currentCard.classList.add('fly-away');
            currentCardIndex++;

            if (currentCardIndex === totalCards) {
                setTimeout(() => { triggerFinalEffects(); }, 600);
            }
        }

        function triggerFinalEffects() {
            // Hi·ªáu ·ª©ng ph√°o hoa
            var duration = 3 * 1000;
            var end = Date.now() + duration;
            (function frame() {
                var timeLeft = end - Date.now();
                if (timeLeft <= 0) return;
                confetti({
                    particleCount: 3,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#ffb7b2', '#ffdac1', '#e2f0cb', '#b5ead7', '#c7ceea'] // M√†u pastel
                });
                confetti({
                    particleCount: 3,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#ffb7b2', '#ffdac1', '#e2f0cb', '#b5ead7', '#c7ceea']
                });
                requestAnimationFrame(frame);
            }());

            // Hi·ªán hoa sen
            document.getElementById('lotusEffect').classList.add('show');
        }
    </script>
</body>
</html>
